<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Contact | Law Five Referee</title>

  <!-- Stylesheet -->
  <link rel="stylesheet" href="/css/style.css?v=20260107" />

  <!-- Favicons -->
  <link rel="icon" href="/images/favicon.ico" sizes="any" />
  <link rel="icon" href="/images/favicon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="/images/favicon.png" />

  <!-- Theme colors -->
  <meta name="theme-color" content="#1e7a3c" media="(prefers-color-scheme: light)" />
  <meta name="theme-color" content="#0c0c0c" media="(prefers-color-scheme: dark)" />

  <!-- SEO meta -->
  <meta name="description" content="Software and resources for soccer referees, including the Penalty Shoot-out Simulator and QuickLook Today apps." />
</head>

<body>
  <header>
    <h1>Law Five Referee</h1>
    <nav>
      <a href="/index.html">Home</a>
      <a href="/penalty-shootout.html">Penalty Shoot-out</a>
      <a href="/quicklook-today.html">QuickLook Today</a>
      <a href="/apps/game-card-factory/index.html">Game Card Factory</a>
      <a href="/downloads.html">Downloads</a>
      <a href="/contact.html">Contact</a>
      <a href="/privacy.html">Privacy</a>
    </nav>
  </header>

  <main class="content-panel">
    <section class="contact">
      <h2>Contact / Support</h2>
      <p>If you have any questions or feedback about our apps, please reach out below.</p>

      <!-- IMPORTANT:
           Replace YOUR_REAL_FORM_ID_HERE with the Formspree ID from your dashboard.
           Example: https://formspree.io/f/myzkjveq
      -->
      <form id="contact-form" action="https://formspree.io/f/mvgwpwqd" method="POST">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" required />

        <label for="email">Email</label>
        <input type="email" id="email" name="_replyto" required />

        <label for="message">Message</label>
        <textarea id="message" name="message" rows="5" required></textarea>

        <button id="contactSubmitBtn" type="submit" class="btn">Send Message</button>
      </form>

      <div id="success-message" class="fade-in hidden" aria-live="polite">
        <p>Thank you for your message! We’ll get back to you soon.</p>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 Law Five Referee. Site design and build assistance by
      <a href="https://chat.openai.com/" target="_blank" rel="noopener">ChatGPT</a>
    </p>
  </footer>

  <script>
    (function () {
      const form = document.getElementById("contact-form");
      const success = document.getElementById("success-message");
      const submitBtn = document.getElementById("contactSubmitBtn");

      if (!form) return;

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        // Guard against placeholder endpoint
        if ((form.action || "").includes("YOUR_REAL_FORM_ID_HERE")) {
          alert("Contact form is not configured yet. Replace YOUR_REAL_FORM_ID_HERE with your real Formspree form ID.");
          return;
        }

        try {
          if (submitBtn) submitBtn.disabled = true;

          const data = new FormData(form);

          const response = await fetch(form.action, {
            method: form.method || "POST",
            body: data,
            headers: { "Accept": "application/json" }
          });

          if (response.ok) {
            form.reset();
            if (success) {
              success.classList.remove("hidden");
              success.classList.add("visible");
            }
            return;
          }

          console.error("Formspree response not ok:", response.status);
          alert("There was an error sending your message. Please try again.");
        } catch (err) {
          console.error("Contact form submit failed:", err);
          alert("There was an error sending your message. Please try again.");
        } finally {
          if (submitBtn) submitBtn.disabled = false;
        }
      });
    })();
  </script>

  <script data-goatcounter="https://law5ref.goatcounter.com/count"
          async src="//gc.zgo.at/count.js"></script>
</body>
</html>
